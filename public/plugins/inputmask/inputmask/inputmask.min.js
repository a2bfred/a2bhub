!function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window")):window.Inputmask=e(window.dependencyLib||jQuery,window)}(function(e,t,n){function i(t,r,o){if(!(this instanceof i))return new i(t,r,o);this.el=n,this.events={},this.maskset=n,this.refreshValue=!1,!0!==o&&(e.isPlainObject(t)?r=t:(r=r||{},t&&(r.alias=t)),this.opts=e.extend(!0,{},this.defaults,r),this.noMasksCache=r&&r.definitions!==n,this.userOptions=r||{},this.isRTL=this.opts.numericInput,a(this.opts.alias,r,this.opts))}function a(t,r,o){var s=i.prototype.aliases[t];return s?(s.alias&&a(s.alias,n,o),e.extend(!0,o,s),e.extend(!0,o,r),!0):(null===o.mask&&(o.mask=t),!1)}function r(t,a){function r(t,r,o){var s=!1;if(null!==t&&""!==t||((s=null!==o.regex)?t=(t=o.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,t=".*")),1===t.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var l="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;t=o.groupmarker[0]+t+o.groupmarker[1]+o.quantifiermarker[0]+l+","+o.repeat+o.quantifiermarker[1]}var c,u=s?"regex_"+o.regex:o.numericInput?t.split("").reverse().join(""):t;return i.prototype.masksCache[u]===n||!0===a?(c={mask:t,maskToken:i.prototype.analyseMask(t,s,o),validPositions:{},_buffer:n,buffer:n,tests:{},excludes:{},metadata:r,maskLength:n,jitOffset:{}},!0!==a&&(i.prototype.masksCache[u]=c,c=e.extend(!0,{},i.prototype.masksCache[u]))):c=e.extend(!0,{},i.prototype.masksCache[u]),c}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){if(null===t.keepStatic){t.keepStatic="auto";for(var o=0;o<t.mask.length;o++)if(t.mask[o].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var s=t.groupmarker[0];return e.each(t.isRTL?t.mask.reverse():t.mask,function(i,a){s.length>1&&(s+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),a.mask===n||e.isFunction(a.mask)?s+=a:s+=a.mask}),s+=t.groupmarker[1],r(s,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==n&&!e.isFunction(t.mask.mask)?r(t.mask.mask,t.mask,t):r(t.mask,t.mask,t)}function o(e){var t=l.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function s(a,r,c){function m(){return r}function d(e){var t=m();t.buffer=n,!0!==e&&(t.validPositions={},t.p=0)}function v(e,t,i){var a=-1,r=-1,o=i||m().validPositions;e===n&&(e=-1);for(var s in o){var l=parseInt(s);o[l]&&(t||!0!==o[l].generatedInput)&&(l<=e&&(a=l),l>=e&&(r=l))}return-1===a||a==e?r:-1==r?a:e-a<r-e?a:r}function k(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),t!==n?t.toString():""}function g(e,t){var i=(e.alternation!=n?e.mloc[k(e)]:e.locator).join("");if(""!==i)for(;i.length<t;)i+="0";return i}function b(e,t){for(var i,a,r,o=g(P(e=e>0?e-1:0)),s=0;s<t.length;s++){var l=t[s];i=g(l,o.length);var u=Math.abs(i-o);(a===n||""!==i&&u<a||r&&!c.greedy&&r.match.optionality&&"master"===r.match.newBlockMarker&&(!l.match.optionality||!l.match.newBlockMarker)||r&&r.match.optionalQuantifier&&!l.match.optionalQuantifier)&&(a=u,r=l)}return r}function y(e,t,n){return m().validPositions[e]||b(e,C(e,t?t.slice():t,n))}function P(e,t){return m().validPositions[e]?m().validPositions[e]:(t||C(e))[0]}function E(e,t){for(var n=!1,i=C(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){n=!0;break}return n}function C(t,i,a){function r(i,a,s,u){function d(s,u,v){function k(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,a){if(!0===a.isQuantifier?i=k(t,n.matches[e-1]):a.hasOwnProperty("matches")&&(i=k(t,a)),i)return!1}),i}function g(t,i,a){var r,o;if((m().tests[t]||m().validPositions[t])&&e.each(m().tests[t]||[m().validPositions[t]],function(e,t){if(t.mloc[i])return r=t,!1;var s=a!==n?a:t.alternation,l=t.locator[s]!==n?t.locator[s].toString().indexOf(i):-1;(o===n||l<o)&&-1!==l&&(r=t,o=l)}),r){var s=r.locator[r.alternation];return(r.mloc[i]||r.mloc[s]||r.locator).slice((a!==n?a:r.alternation)+1)}return a!==n?g(t,i):n}function b(e,t){function n(e){for(var t,n,i=[],a=0,r=e.length;a<r;a++)if("-"===e.charAt(a))for(n=e.charCodeAt(a+1);++t<n;)i.push(String.fromCharCode(t));else t=e.charCodeAt(a),i.push(e.charAt(a));return i.join("")}return c.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==n(t.match.def.replace(/[\[\]]/g,"")).indexOf(n(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function y(e,n){var i=e.locator.slice(e.alternation).join("")==n.locator.slice(n.alternation).join("");return i=!(!i||null!==e.match.fn||null===n.match.fn)&&n.match.fn.test(e.match.def,m(),t,!1,c,!1)}function P(e,t){if(t===n||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var i=e.locator[e.alternation];if(i!==n){if("string"==typeof i&&(i=i.split(",")[0]),e.mloc[i]===n&&(e.mloc[i]=e.locator.slice()),t!==n){for(var a in t.mloc)"string"==typeof a&&(a=a.split(",")[0]),e.mloc[a]===n&&(e.mloc[a]=t.mloc[a]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=n}return!1}if(l>500&&v!==n)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+m().mask;if(l===t&&s.matches===n)return f.push({match:s,locator:u.reverse(),cd:h,mloc:{}}),!0;if(s.matches!==n){if(s.isGroup&&v!==s){if(s=d(i.matches[e.inArray(s,i.matches)+1],u,v))return!0}else if(s.isOptional){var E=s;if(s=r(s,a,u,v)){if(e.each(f,function(e,t){t.match.optionality=!0}),o=f[f.length-1].match,v!==n||!k(o,E))return!0;p=!0,l=t}}else if(s.isAlternator){var C,x=s,_=[],A=f.slice(),w=u.length,O=a.length>0?a.shift():-1;if(-1===O||"string"==typeof O){var j,S=l,M=a.slice(),D=[];if("string"==typeof O)D=O.split(",");else for(j=0;j<x.matches.length;j++)D.push(j.toString());if(m().excludes[t]){for(var G=D.slice(),T=0,B=m().excludes[t].length;T<B;T++)D.splice(D.indexOf(m().excludes[t][T].toString()),1);0===D.length&&(m().excludes[t]=n,D=G)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&S>=c.keepStatic)&&(D=D.slice(0,1));for(var L=!1,I=0;I<D.length;I++){j=parseInt(D[I]),f=[],a="string"==typeof O?g(l,j,w)||M.slice():M.slice(),x.matches[j]&&d(x.matches[j],[j].concat(u),v)?s=!0:0===I&&(L=!0),C=f.slice(),l=S,f=[];for(var F=0;F<C.length;F++){var N=C[F],R=!1;N.match.jit=N.match.jit||L,N.alternation=N.alternation||w,P(N);for(var V=0;V<_.length;V++){var K=_[V];if("string"!=typeof O||N.alternation!==n&&-1!==e.inArray(N.locator[N.alternation].toString(),D)){if(N.match.nativeDef===K.match.nativeDef){R=!0,P(K,N);break}if(b(N,K)){P(N,K)&&(R=!0,_.splice(_.indexOf(K),0,N));break}if(b(K,N)){P(K,N);break}if(y(N,K)){P(N,K)&&(R=!0,_.splice(_.indexOf(K),0,N));break}}}R||_.push(N)}}f=A.concat(_),l=t,p=f.length>0,s=_.length>0,a=M.slice()}else s=d(x.matches[O]||i.matches[O],[O].concat(u),v);if(s)return!0}else if(s.isQuantifier&&v!==i.matches[e.inArray(s,i.matches)-1])for(var H=s,U=a.length>0?a.shift():0;U<(isNaN(H.quantifier.max)?U+1:H.quantifier.max)&&l<=t;U++){var Q=i.matches[e.inArray(H,i.matches)-1];if(s=d(Q,[U].concat(u),Q)){if(o=f[f.length-1].match,o.optionalQuantifier=U>=H.quantifier.min,o.jit=(U||1)*Q.matches.indexOf(o)>=H.quantifier.jit,o.optionalQuantifier&&k(o,Q)){p=!0,l=t;break}return o.jit&&(m().jitOffset[t]=Q.matches.indexOf(o)),!0}}else if(s=r(s,a,u,v))return!0}else l++}for(var v=a.length>0?a.shift():0;v<i.matches.length;v++)if(!0!==i.matches[v].isQuantifier){var k=d(i.matches[v],[v].concat(s),u);if(k&&l===t)return k;if(l>t)break}}var o,s=m().maskToken,l=i?a:0,u=i?i.slice():[0],f=[],p=!1,h=i?i.join(""):"";if(t>-1){if(i===n){for(var d,v=t-1;(d=m().validPositions[v]||m().tests[v])===n&&v>-1;)v--;d!==n&&v>-1&&(u=function(t,i){var a=[];return e.isArray(i)||(i=[i]),i.length>0&&(i[0].alternation===n?0===(a=b(t,i.slice()).locator.slice()).length&&(a=i[0].locator.slice()):e.each(i,function(e,t){if(""!==t.def)if(0===a.length)a=t.locator.slice();else for(var n=0;n<a.length;n++)t.locator[n]&&-1===a[n].toString().indexOf(t.locator[n])&&(a[n]+=","+t.locator[n])})),a}(v,d),h=u.join(""),l=v)}if(m().tests[t]&&m().tests[t][0].cd===h)return m().tests[t];for(var k=u.shift();k<s.length;k++){if(r(s[k],u,[k])&&l===t||l>t)break}}return(0===f.length||p)&&f.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:h}),i!==n&&m().tests[t]?e.extend(!0,[],f):(m().tests[t]=e.extend(!0,[],f),m().tests[t])}function x(){return m()._buffer===n&&(m()._buffer=oe(!1,1),m().buffer===n&&(m().buffer=m()._buffer.slice())),m()._buffer}function _(e){return m().buffer!==n&&!0!==e||(m().buffer=oe(!0,v(),!0),m()._buffer===n&&(m()._buffer=m().buffer.slice())),m().buffer}function A(e,t,i){var a,r;if(!0===e)d(),e=0,t=i.length;else for(a=e;a<t;a++)delete m().validPositions[a];for(r=e,a=e;a<t;a++)if(d(!0),i[a]!==c.skipOptionalPartCharacter){var o=j(r,i[a],!0,!0);!1!==o&&(d(!0),r=o.caret!==n?o.caret:o.pos+1)}}function w(t,i,a){for(var r,o=c.greedy?i:i.slice(0,1),s=!1,l=a!==n?a.split(","):[],u=0;u<l.length;u++)-1!==(r=t.indexOf(l[u]))&&t.splice(r,1);for(var f=0;f<t.length;f++)if(-1!==e.inArray(t[f],o)){s=!0;break}return s}function O(t,i,a,r,o){var s,l,c,u,f,p,h,g=e.extend(!0,{},m().validPositions),b=!1,y=o!==n?o:v();if(-1===y&&o===n)l=(u=P(s=0)).alternation;else for(;y>=0;y--)if((c=m().validPositions[y])&&c.alternation!==n){if(u&&u.locator[c.alternation]!==c.locator[c.alternation])break;s=y,l=m().validPositions[s].alternation,u=c}if(l!==n){h=parseInt(s),m().excludes[h]=m().excludes[h]||[],!0!==t&&m().excludes[h].push(k(u));var E=[],C=0;for(f=h;f<v(n,!0)+1;f++)(p=m().validPositions[f])&&!0!==p.generatedInput?E.push(p.input):f<t&&C++,delete m().validPositions[f];for(;m().excludes[h]&&m().excludes[h].length<10;){var x=-1*C,_=E.slice();for(m().tests[h]=n,d(!0),b=!0;_.length>0;){var A=_.shift();if(!(b=j(v(n,!0)+1,A,!1,r,!0)))break}if(b&&i!==n){var w=v(t)+1;for(f=h;f<v()+1;f++)((p=m().validPositions[f])===n||null==p.match.fn)&&f<t+x&&x++;b=j((t+=x)>w?w:t,i,a,r,!0)}if(b)break;if(d(),u=P(h),m().validPositions=e.extend(!0,{},g),!m().excludes[h]){b=O(t,i,a,r,h-1);break}var S=k(u);if(-1!==m().excludes[h].indexOf(S)){b=O(t,i,a,r,h-1);break}for(m().excludes[h].push(S),f=h;f<v(n,!0)+1;f++)delete m().validPositions[f]}}return m().excludes[h]=n,b}function j(t,a,r,o,s,l){function u(e){return te?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1}function f(a,r,s){var l=!1;return e.each(C(a),function(f,p){var h=p.match;if(_(!0),!1!==(l=null!=h.fn?h.fn.test(r,m(),a,s,c,u(t)):(r===h.def||r===c.skipOptionalPartCharacter)&&""!==h.def&&{c:L(a,h,!0)||h.def,pos:a})){var d=l.c!==n?l.c:r,v=a;return d=d===c.skipOptionalPartCharacter&&null===h.fn?L(a,h,!0)||h.def:d,l.remove!==n&&(e.isArray(l.remove)||(l.remove=[l.remove]),e.each(l.remove.sort(function(e,t){return t-e}),function(e,t){M({begin:t,end:t+1})})),l.insert!==n&&(e.isArray(l.insert)||(l.insert=[l.insert]),e.each(l.insert.sort(function(e,t){return e-t}),function(e,t){j(t.pos,t.c,!0,o)})),!0!==l&&l.pos!==n&&l.pos!==a&&(v=l.pos),!0!==l&&l.pos===n&&l.c===n?!1:(M(t,e.extend({},p,{input:function(t,n,a){switch(c.casing||n.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var r=m().validPositions[a-1];t=0===a||r&&r.input===String.fromCharCode(i.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(c.casing)){var o=Array.prototype.slice.call(arguments);o.push(m().validPositions),t=c.casing.apply(this,o)}}return t}(d,h,v)}),o,v)||(l=!1),!1)}}),l}r=!0===r;var p=t;t.begin!==n&&(p=te?t.end:t.begin);var h=!0,v=e.extend(!0,{},m().validPositions);if(e.isFunction(c.preValidation)&&!r&&!0!==o&&!0!==l&&(h=c.preValidation(_(),p,a,u(t),c,m())),!0===h){if(S(n,p,!0),(z===n||p<z)&&(h=f(p,a,r),(!r||!0===o)&&!1===h&&!0!==l)){var k=m().validPositions[p];if(!k||null!==k.match.fn||k.match.def!==a&&a!==c.skipOptionalPartCharacter){if((c.insertMode||m().validPositions[G(p)]===n)&&(!D(p,!0)||m().jitOffset[p]))if(m().jitOffset[p]&&m().validPositions[G(p)]===n)!1!==(h=j(p+m().jitOffset[p],a,r))&&(h.caret=p);else for(var g=p+1,b=G(p);g<=b;g++)if(!1!==(h=f(g,a,r))){h=S(p,h.pos!==n?h.pos:g)||h,p=g;break}}else h={caret:G(p)}}!1!==h||!1===c.keepStatic||null!=c.regex&&!H(_())||r||!0===s||(h=O(p,a,r,o)),!0===h&&(h={pos:p})}if(e.isFunction(c.postValidation)&&!1!==h&&!r&&!0!==o&&!0!==l){var y=c.postValidation(_(!0),t.begin!==n?te?t.end:t.begin:t,h,c);if(y!==n){if(y.refreshFromBuffer&&y.buffer){var P=y.refreshFromBuffer;A(!0===P?P:P.start,P.end,y.buffer)}h=!0===y?h:y}}return h&&h.pos===n&&(h.pos=p),!1!==h&&!0!==l||(d(!0),m().validPositions=e.extend(!0,{},v)),h}function S(t,i,a){var r;if(t===n)for(t=i-1;t>0&&!m().validPositions[t];t--);for(var o=t;o<i;o++)if(m().validPositions[o]===n&&!D(o,!0)){if(0==o?P(o):m().validPositions[o-1]){var s=C(o).slice();""===s[s.length-1].match.def&&s.pop();var l=b(o,s);if(l=e.extend({},l,{input:L(o,l.match,!0)||l.match.def}),l.generatedInput=!0,M(o,l,!0),!0!==a){var c=m().validPositions[i].input;m().validPositions[i]=n,r=j(i,c,!0,!0)}}}return r}function M(t,i,a,r){function o(e,t,i){var a=t[e];if(a!==n&&(null===a.match.fn&&!0!==a.match.optionality||a.input===c.radixPoint)){var r=i.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],o=i.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return r&&o}return!1}var s=t.begin!==n?t.begin:t,l=t.end!==n?t.end:t;if(t.begin>t.end&&(s=t.end,l=t.begin),r=r!==n?r:s,s!==l||c.insertMode&&m().validPositions[r]!==n&&a===n){var u=e.extend(!0,{},m().validPositions),f=v(n,!0);for(m().p=s,b=f;b>=s;b--)m().validPositions[b]&&"+"===m().validPositions[b].match.nativeDef&&(c.isNegative=!1),delete m().validPositions[b];var p=!0,h=r,k=(m().validPositions,!1),g=h,b=h;for(i&&(m().validPositions[r]=e.extend(!0,{},i),g++,h++,s<l&&b++);b<=f;b++){var y=u[b];if(y!==n&&(b>=l||b>=s&&!0!==y.generatedInput&&o(b,u,{begin:s,end:l}))){for(;""!==P(g).match.def;){if(!1===k&&u[g]&&u[g].match.nativeDef===y.match.nativeDef)m().validPositions[g]=e.extend(!0,{},u[g]),m().validPositions[g].input=y.input,S(n,g,!0),h=g+1,p=!0;else if(c.shiftPositions&&E(g,y.match.def)){var C=j(g,y.input,!0,!0);p=!1!==C,h=C.caret||C.insert?v():g+1,k=!0}else p=!0===y.generatedInput||y.input===c.radixPoint&&!0===c.numericInput;if(p)break;if(!p&&g>l&&D(g,!0)&&(null!==y.match.fn||g>m().maskLength))break;g++}""==P(g).match.def&&(p=!1),g=h}if(!p)break}if(!p)return m().validPositions=e.extend(!0,{},u),d(!0),!1}else i&&(m().validPositions[r]=e.extend(!0,{},i));return d(!0),!0}function D(e,t){var n=y(e).match;if(""===n.def&&(n=P(e).match),null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=C(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function G(e,t){for(var n=e+1;""!==P(n).match.def&&(!0===t&&(!0!==P(n).match.newBlockMarker||!D(n))||!0!==t&&!D(n));)n++;return n}function T(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==P(i).match.newBlockMarker||!0!==t&&!D(i)&&((n=C(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function B(t,i,a,r,o){if(r&&e.isFunction(c.onBeforeWrite)){var s=c.onBeforeWrite.call(Y,r,i,a,c);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;A(!0===l?l:l.start,l.end,s.buffer||i),i=_(!0)}a!==n&&(a=s.caret!==n?s.caret:a)}}if(t!==n&&(t.inputmask._valueSet(i.join("")),a===n||r!==n&&"blur"===r.type?q(t,a,0===i.length):R(t,a),!0===o)){var u=e(t),f=t.inputmask._valueGet();ie=!0,u.trigger("input"),setTimeout(function(){f===x().join("")?u.trigger("cleared"):!0===H(i)&&u.trigger("complete")},0)}}function L(t,i,a){if((i=i||P(t).match).placeholder!==n||!0===a)return e.isFunction(i.placeholder)?i.placeholder(c):i.placeholder;if(null===i.fn){if(t>-1&&m().validPositions[t]===n){var r,o=C(t),s=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var l=0;l<o.length;l++)if(!0!==o[l].match.optionality&&!0!==o[l].match.optionalQuantifier&&(null===o[l].match.fn||r===n||!1!==o[l].match.fn.test(r.match.def,m(),t,!0,c))&&(s.push(o[l]),null===o[l].match.fn&&(r=o[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return c.placeholder.charAt(t%c.placeholder.length)}return i.def}return c.placeholder.charAt(t%c.placeholder.length)}function I(e,t){if(u){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var n=_().slice(),i=e.inputmask._valueGet();if(i!==t){var a=v();-1===a&&i===x().join("")?n=[]:-1!==a&&K(n),B(e,n)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))}function F(t,a,r,o,s){var l=this||t.inputmask,u=o.slice(),f="",p=-1,h=n;if(d(),r||!0===c.autoUnmask)p=G(p);else{var k=x().slice(0,G(-1)).join(""),g=u.join("").match(new RegExp("^"+i.escapeRegex(k),"g"));g&&g.length>0&&(u.splice(0,g.length*k.length),p=G(p))}-1===p?(m().p=G(p),p=0):m().p=p,l.caretPos={begin:p},e.each(u,function(i,a){if(a!==n)if(m().validPositions[i]===n&&u[i]===L(i)&&D(i,!0)&&!1===j(i,u[i],!0,n,n,!0))m().p++;else{var o=new e.Event("_checkval");o.which=a.charCodeAt(0),f+=a;var s=v(n,!0);!function(e,t){return-1!==oe(!0,0,!1).slice(e,G(e)).join("").replace(/'/g,"").indexOf(t)&&!D(e)&&(P(e).match.nativeDef===t.charAt(0)||null===P(e).match.fn&&P(e).match.nativeDef==="'"+t.charAt(0)||" "===P(e).match.nativeDef&&(P(e+1).match.nativeDef===t.charAt(0)||null===P(e+1).match.fn&&P(e+1).match.nativeDef==="'"+t.charAt(0)))}(p,f)?(h=le.keypressEvent.call(t,o,!0,!1,r,l.caretPos.begin))&&(p=l.caretPos.begin+1,f=""):h=le.keypressEvent.call(t,o,!0,!1,r,s+1),h&&(B(n,_(),h.forwardPosition,o,!1),l.caretPos={begin:h.forwardPosition,end:h.forwardPosition})}}),a&&B(t,_(),h?h.forwardPosition:n,s||new e.Event("checkval"),s&&"input"===s.type)}function N(t){if(t){if(t.inputmask===n)return t.value;t.inputmask&&t.inputmask.refreshValue&&le.setValueEvent.call(t)}var i=[],a=m().validPositions;for(var r in a)a[r].match&&null!=a[r].match.fn&&i.push(a[r].input);var o=0===i.length?"":(te?i.reverse():i).join("");if(e.isFunction(c.onUnMask)){var s=(te?_().slice().reverse():_()).join("");o=c.onUnMask.call(Y,s,o,c)}return o}function R(i,a,r,o){function s(e){return!te||"number"!=typeof e||c.greedy&&""===c.placeholder||!ee||(e=ee.inputmask._valueGet().length-e),e}var u;if(a===n)return"selectionStart"in i?(a=i.selectionStart,r=i.selectionEnd):t.getSelection?(u=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==i&&u.commonAncestorContainer!==i||(a=u.startOffset,r=u.endOffset):l.selection&&l.selection.createRange&&(r=(a=0-(u=l.selection.createRange()).duplicate().moveStart("character",-i.inputmask._valueGet().length))+u.text.length),{begin:o?a:s(a),end:o?r:s(r)};if(e.isArray(a)&&(r=te?a[0]:a[1],a=te?a[1]:a[0]),a.begin!==n&&(r=te?a.begin:a.end,a=te?a.end:a.begin),"number"==typeof a){a=o?a:s(a),r="number"==typeof(r=o?r:s(r))?r:a;var f=parseInt(((i.ownerDocument.defaultView||t).getComputedStyle?(i.ownerDocument.defaultView||t).getComputedStyle(i,null):i.currentStyle).fontSize)*r;if(i.scrollLeft=f>i.scrollWidth?f:0,i.inputmask.caretPos={begin:a,end:r},i===l.activeElement){if("selectionStart"in i)i.selectionStart=a,i.selectionEnd=r;else if(t.getSelection){if(u=l.createRange(),i.firstChild===n||null===i.firstChild){var p=l.createTextNode("");i.appendChild(p)}u.setStart(i.firstChild,a<i.inputmask._valueGet().length?a:i.inputmask._valueGet().length),u.setEnd(i.firstChild,r<i.inputmask._valueGet().length?r:i.inputmask._valueGet().length),u.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(u)}else i.createTextRange&&((u=i.createTextRange()).collapse(!0),u.moveEnd("character",r),u.moveStart("character",a),u.select());q(i,{begin:a,end:r})}}}function V(t){var i,a,r=oe(!0,v(),!0,!0),o=r.length,s=v(),l={},c=m().validPositions[s],u=c!==n?c.locator.slice():n;for(i=s+1;i<r.length;i++)u=(a=y(i,u,i-1)).locator.slice(),l[i]=e.extend(!0,{},a);var f=c&&c.alternation!==n?c.locator[c.alternation]:n;for(i=o-1;i>s&&(((a=l[i]).match.optionality||a.match.optionalQuantifier&&a.match.newBlockMarker||f&&(f!==l[i].locator[c.alternation]&&null!=a.match.fn||null===a.match.fn&&a.locator[c.alternation]&&w(a.locator[c.alternation].toString().split(","),f.toString().split(","))&&""!==C(i)[0].def))&&r[i]===L(i,a.match));i--)o--;return t?{l:o,def:l[o]?l[o].match:n}:o}function K(e){e.length=0;for(var t,i=oe(!0,0,!0,n,!0);(t=i.shift())!==n;)e.push(t);return e}function H(t){if(e.isFunction(c.isComplete))return c.isComplete(t,c);if("*"===c.repeat)return n;var i=!1,a=V(!0),r=T(a.l);if(a.def===n||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){i=!0;for(var o=0;o<=r;o++){var s=y(o).match;if(null!==s.fn&&m().validPositions[o]===n&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==L(o,s)){i=!1;break}}}return i}function U(e,t,a,r,o){if((c.numericInput||te)&&(t===i.keyCode.BACKSPACE?t=i.keyCode.DELETE:t===i.keyCode.DELETE&&(t=i.keyCode.BACKSPACE),te)){var s=a.end;a.end=a.begin,a.begin=s}if(t===i.keyCode.BACKSPACE&&a.end-a.begin<1?(a.begin=T(a.begin),m().validPositions[a.begin]!==n&&m().validPositions[a.begin].input===c.groupSeparator&&a.begin--):t===i.keyCode.DELETE&&a.begin===a.end&&(a.end=D(a.end,!0)&&m().validPositions[a.end]&&m().validPositions[a.end].input!==c.radixPoint?a.end+1:G(a.end)+1,m().validPositions[a.begin]!==n&&m().validPositions[a.begin].input===c.groupSeparator&&a.end++),M(a),!0!==r&&!1!==c.keepStatic||null!==c.regex){var l=O(!0);if(l){var u=l.caret!==n?l.caret:l.pos?G(l.pos.begin?l.pos.begin:l.pos):v(-1,!0);(t!==i.keyCode.DELETE||a.begin>u)&&a.begin}}var f=v(a.begin,!0);if(f<a.begin||-1===a.begin)m().p=G(f);else if(!0!==r&&(m().p=a.begin,!0!==o))for(;m().p<f&&m().validPositions[m().p]===n;)m().p++}function Q(n){var i=(n.ownerDocument.defaultView||t).getComputedStyle(n,null),a=l.createElement("div");a.style.width=i.width,a.style.textAlign=i.textAlign,X=l.createElement("div"),n.inputmask.colorMask=X,X.className="im-colormask",n.parentNode.insertBefore(X,n),n.parentNode.removeChild(n),X.appendChild(n),X.appendChild(a),n.style.left=a.offsetLeft+"px",e(X).on("mouseleave",function(e){return le.mouseleaveEvent.call(n,[e])}),e(X).on("mouseenter",function(e){return le.mouseenterEvent.call(n,[e])}),e(X).on("click",function(e){return R(n,function(e){var t,a=l.createElement("span");for(var r in i)isNaN(r)&&-1!==r.indexOf("font")&&(a.style[r]=i[r]);a.style.textTransform=i.textTransform,a.style.letterSpacing=i.letterSpacing,a.style.position="absolute",a.style.height="auto",a.style.width="auto",a.style.visibility="hidden",a.style.whiteSpace="nowrap",l.body.appendChild(a);var o,s=n.inputmask._valueGet(),c=0;for(t=0,o=s.length;t<=o;t++){if(a.innerHTML+=s.charAt(t)||"_",a.offsetWidth>=e){var u=e-c,f=a.offsetWidth-e;a.innerHTML=s.charAt(t),t=(u-=a.offsetWidth/3)<f?t-1:t;break}c=a.offsetWidth}return l.body.removeChild(a),t}(e.clientX)),le.clickEvent.call(n,[e])})}function q(e,t,i){function a(e){if(e===n&&(e=""),f||null!==r.fn&&o.input!==n)if(f&&(null!==r.fn&&o.input!==n||""===r.def)){f=!1;var t=u.length;u[t-1]=u[t-1]+"</span>",u.push(e)}else u.push(e);else f=!0,u.push("<span class='im-static'>"+e)}var r,o,s,u=[],f=!1,p=0;if(X!==n){var h=_();if(t===n?t=R(e):t.begin===n&&(t={begin:t,end:t}),!0!==i){var d=v();do{m().validPositions[p]?(o=m().validPositions[p],r=o.match,s=o.locator.slice(),a(h[p])):(o=y(p,s,p-1),r=o.match,s=o.locator.slice(),!1===c.jitMasking||p<d||"number"==typeof c.jitMasking&&isFinite(c.jitMasking)&&c.jitMasking>p?a(L(p,r)):f=!1),p++}while((z===n||p<z)&&(null!==r.fn||""!==r.def)||d>p||f);f&&a(),l.activeElement===e&&(u.splice(t.begin,0,t.begin===t.end||t.end>m().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),u.splice(t.end+1,0,"</mark>"))}var k=X.getElementsByTagName("div")[0];k.innerHTML=u.join(""),e.inputmask.positionColorMask(e,k)}}r=r||this.maskset,c=c||this.opts;var W,$,z,X,Z,J,Y=this,ee=this.el,te=this.isRTL,ne=!1,ie=!1,ae=!1,re=!1,oe=function(e,t,i,a,r){var o=c.greedy;r&&(c.greedy=!1),t=t||0;var s,l,u,f=[],p=0;v();do{if(!0===e&&m().validPositions[p])l=(u=r&&!0===m().validPositions[p].match.optionality&&m().validPositions[p+1]===n&&(!0===m().validPositions[p].generatedInput||m().validPositions[p].input==c.skipOptionalPartCharacter&&p>0)?b(p,C(p,s,p-1)):m().validPositions[p]).match,s=u.locator.slice(),f.push(!0===i?u.input:!1===i?l.nativeDef:L(p,l));else{l=(u=y(p,s,p-1)).match,s=u.locator.slice();var h=!0!==a&&(!1!==c.jitMasking?c.jitMasking:l.jit);(!1===h||h===n||"number"==typeof h&&isFinite(h)&&h>p)&&f.push(!1===i?l.nativeDef:L(p,l))}"auto"===c.keepStatic&&l.newBlockMarker&&null!==l.fn&&(c.keepStatic=p-1),p++}while((z===n||p<z)&&(null!==l.fn||""!==l.def)||t>p);return""===f[f.length-1]&&f.pop(),!1===i&&m().maskLength!==n||(m().maskLength=p-1),c.greedy=o,f},se={on:function(t,a,r){var o=function(t){var a=this;if(a.inputmask===n&&"FORM"!==this.nodeName){var o=e.data(a,"_inputmask_opts");o?new i(o).mask(a):se.off(a)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(a.disabled||a.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===c.tabThrough&&t.keyCode===i.keyCode.TAB))){switch(t.type){case"input":if(!0===ie)return ie=!1,t.preventDefault();if(f){s=arguments;return setTimeout(function(){r.apply(a,s),R(a,a.inputmask.caretPos,n,!0)},0),!1}break;case"keydown":ne=!1,ie=!1;break;case"keypress":if(!0===ne)return t.preventDefault();ne=!0;break;case"click":if(p||h){var s=arguments;return setTimeout(function(){r.apply(a,s)},0),!1}}var l=r.apply(a,arguments);return!1===l&&(t.preventDefault(),t.stopPropagation()),l}t.preventDefault()}};t.inputmask.events[a]=t.inputmask.events[a]||[],t.inputmask.events[a].push(o),-1!==e.inArray(a,["submit","reset"])?null!==t.form&&e(t.form).on(a,o):e(t).on(a,o)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[])[n]=t.inputmask.events[n]:i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var a=i.pop();-1!==e.inArray(n,["submit","reset"])?null!==t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]})}}},le={keydownEvent:function(t){var n=e(this),a=t.keyCode,r=R(this);if(a===i.keyCode.BACKSPACE||a===i.keyCode.DELETE||h&&a===i.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&a===i.keyCode.X&&!o("cut"))t.preventDefault(),U(0,a,r),B(this,_(!0),m().p,t,this.inputmask._valueGet()!==_().join(""));else if(a===i.keyCode.END||a===i.keyCode.PAGE_DOWN){t.preventDefault();var s=G(v());R(this,t.shiftKey?r.begin:s,s,!0)}else a===i.keyCode.HOME&&!t.shiftKey||a===i.keyCode.PAGE_UP?(t.preventDefault(),R(this,0,t.shiftKey?r.begin:0,!0)):(c.undoOnEscape&&a===i.keyCode.ESCAPE||90===a&&t.ctrlKey)&&!0!==t.altKey?(F(this,!0,!1,W.split("")),n.trigger("click")):a!==i.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===c.tabThrough&&a===i.keyCode.TAB&&(!0===t.shiftKey?(null===P(r.begin).match.fn&&(r.begin=G(r.begin)),r.end=T(r.begin,!0),r.begin=T(r.end,!0)):(r.begin=G(r.begin,!0),r.end=G(r.begin,!0),r.end<m().maskLength&&r.end--),r.begin<m().maskLength&&(t.preventDefault(),R(this,r.begin,r.end))):(c.insertMode=!c.insertMode,this.setAttribute("im-insert",c.insertMode));c.onKeyDown.call(this,t,_(),R(this).begin,c),ae=-1!==e.inArray(a,c.ignorables)},keypressEvent:function(t,a,r,o,s){var l=this,u=e(l),f=t.which||t.charCode||t.keyCode;if(!(!0===a||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||ae))return f===i.keyCode.ENTER&&W!==_().join("")&&(W=_().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(f){46===f&&!1===t.shiftKey&&""!==c.radixPoint&&(f=c.radixPoint.charCodeAt(0));var p,h=a?{begin:s,end:s}:R(l),v=String.fromCharCode(f),k=0;if(c._radixDance&&c.numericInput){var g=_().indexOf(c.radixPoint.charAt(0))+1;h.begin<=g&&(f===c.radixPoint.charCodeAt(0)&&(k=1),h.begin-=1,h.end-=1)}m().writeOutBuffer=!0;var b=j(h,v,o);if(!1!==b&&(d(!0),p=b.caret!==n?b.caret:G(b.pos.begin?b.pos.begin:b.pos),m().p=p),p=(c.numericInput&&b.caret===n?T(p):p)+k,!1!==r&&(setTimeout(function(){c.onKeyValidation.call(l,f,b,c)},0),m().writeOutBuffer&&!1!==b)){var y=_();B(l,y,p,t,!0!==a)}if(t.preventDefault(),a)return!1!==b&&(b.forwardPosition=p),b}},pasteEvent:function(n){var i,a=n.originalEvent||n,r=(e(this),this.inputmask._valueGet(!0)),o=R(this);te&&(i=o.end,o.end=o.begin,o.begin=i);var s=r.substr(0,o.begin),l=r.substr(o.end,r.length);if(s===(te?x().reverse():x()).slice(0,o.begin).join("")&&(s=""),l===(te?x().reverse():x()).slice(o.end).join("")&&(l=""),t.clipboardData&&t.clipboardData.getData)r=s+t.clipboardData.getData("Text")+l;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;r=s+a.clipboardData.getData("text/plain")+l}var u=r;if(e.isFunction(c.onBeforePaste)){if(!1===(u=c.onBeforePaste.call(Y,r,c)))return n.preventDefault();u||(u=r)}return F(this,!1,!1,u.toString().split("")),B(this,_(),G(v()),n,W!==_().join("")),n.preventDefault()},inputFallBackEvent:function(t){var n=this,a=n.inputmask._valueGet();if(_().join("")!==a){var r=R(n);if(a=function(e,t,n){return"."===t.charAt(n.begin-1)&&""!==c.radixPoint&&((t=t.split(""))[n.begin-1]=c.radixPoint.charAt(0),t=t.join("")),t}(0,a,r),a=function(e,t,n){if(p){var i=t.replace(_().join(""),"");if(1===i.length){var a=t.split("");a.splice(n.begin,0,i),t=a.join("")}}return t}(0,a,r),_().join("")!==a){var o=_().join(""),s=!c.numericInput&&a.length>o.length?-1:0,l=a.substr(0,r.begin),u=a.substr(r.begin),f=o.substr(0,r.begin+s),h=o.substr(r.begin+s),m=r,d="",v=!1;if(l!==f){var k,g=(v=l.length>=f.length)?l.length:f.length;for(k=0;l.charAt(k)===f.charAt(k)&&k<g;k++);v&&(m.begin=k-s,d+=l.slice(k,m.end))}if(u!==h&&(u.length>h.length?d+=u.slice(0,1):u.length<h.length&&(m.end+=h.length-u.length,v||""===c.radixPoint||""!==u||l.charAt(m.begin+s-1)!==c.radixPoint||(m.begin--,d=c.radixPoint))),B(n,_(),{begin:m.begin+s,end:m.end+s}),d.length>0)e.each(d.split(""),function(t,i){var a=new e.Event("keypress");a.which=i.charCodeAt(0),ae=!1,le.keypressEvent.call(n,a)});else{m.begin===m.end-1&&(m.begin=T(m.begin+1),m.begin===m.end-1?R(n,m.begin):R(n,m.begin,m.end));var b=new e.Event("keydown");b.keyCode=c.numericInput?i.keyCode.BACKSPACE:i.keyCode.DELETE,le.keydownEvent.call(n,b)}t.preventDefault()}}},beforeInputEvent:function(t){if(t.cancelable){var n=this;switch(t.inputType){case"insertText":return e.each(t.data.split(""),function(t,i){var a=new e.Event("keypress");a.which=i.charCodeAt(0),ae=!1,le.keypressEvent.call(n,a)}),t.preventDefault();case"deleteContentBackward":return(a=new e.Event("keydown")).keyCode=i.keyCode.BACKSPACE,le.keydownEvent.call(n,a),t.preventDefault();case"deleteContentForward":var a=new e.Event("keydown");return a.keyCode=i.keyCode.DELETE,le.keydownEvent.call(n,a),t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var n=(n=t&&t.detail?t.detail[0]:arguments[1])||this.inputmask._valueGet(!0);e.isFunction(c.onBeforeMask)&&(n=c.onBeforeMask.call(Y,n,c)||n),F(this,!0,!1,n=n.toString().split("")),W=_().join(""),(c.clearMaskOnLostFocus||c.clearIncomplete)&&this.inputmask._valueGet()===x().join("")&&this.inputmask._valueSet("")},focusEvent:function(e){var t=this.inputmask._valueGet();c.showMaskOnFocus&&(t!==_().join("")?B(this,_(),G(v())):!1===re&&R(this,G(v()))),!0===c.positionCaretOnTab&&!1===re&&le.clickEvent.apply(this,[e,!0]),W=_().join("")},mouseleaveEvent:function(e){re=!1,c.clearMaskOnLostFocus&&l.activeElement!==this&&I(this,Z)},clickEvent:function(t,i){var a=this;setTimeout(function(){if(l.activeElement===a){var t=R(a);if(i&&(te?t.end=t.begin:t.begin=t.end),t.begin===t.end)switch(c.positionCaretOnClick){case"none":break;case"select":R(a,0,_().length);break;case"ignore":R(a,G(v()));break;case"radixFocus":if(function(t){if(""!==c.radixPoint){var i=m().validPositions;if(i[t]===n||i[t].input===L(t)){if(t<G(-1))return!0;var a=e.inArray(c.radixPoint,_());if(-1!==a){for(var r in i)if(a<r&&i[r].input!==L(r))return!1;return!0}}}return!1}(t.begin)){var r=_().join("").indexOf(c.radixPoint);R(a,c.numericInput?G(r):r);break}default:var o=t.begin,s=v(o,!0),u=G(s);if(o<u)R(a,D(o,!0)||D(o-1,!0)?o:G(o));else{var f=m().validPositions[s],p=y(u,f?f.match.locator:n,f),h=L(u,p.match);if(""!==h&&_()[u]!==h&&!0!==p.match.optionalQuantifier&&!0!==p.match.newBlockMarker||!D(u,c.keepStatic)&&p.match.def===h){var d=G(u);(o>=d||o===u)&&(u=d)}R(a,u)}}}},0)},cutEvent:function(n){e(this);var a=R(this),r=n.originalEvent||n,o=t.clipboardData||r.clipboardData,s=te?_().slice(a.end,a.begin):_().slice(a.begin,a.end);o.setData("text",te?s.reverse().join(""):s.join("")),l.execCommand&&l.execCommand("copy"),U(0,i.keyCode.DELETE,a),B(this,_(),m().p,n,W!==_().join(""))},blurEvent:function(t){var i=e(this);if(this.inputmask){I(this,Z);var a=this.inputmask._valueGet(),r=_().slice();""===a&&X===n||(c.clearMaskOnLostFocus&&(-1===v()&&a===x().join("")?r=[]:K(r)),!1===H(r)&&(setTimeout(function(){i.trigger("incomplete")},0),c.clearIncomplete&&(d(),r=c.clearMaskOnLostFocus?[]:x().slice())),B(this,r,n,t)),W!==_().join("")&&(W=r.join(""),i.trigger("change"))}},mouseenterEvent:function(e){re=!0,l.activeElement!==this&&c.showMaskOnHover&&I(this,(te?_().slice().reverse():_()).join(""))},submitEvent:function(e){W!==_().join("")&&$.trigger("change"),c.clearMaskOnLostFocus&&-1===v()&&ee.inputmask._valueGet&&ee.inputmask._valueGet()===x().join("")&&ee.inputmask._valueSet(""),c.clearIncomplete&&!1===H(_())&&ee.inputmask._valueSet(""),c.removeMaskOnSubmit&&(ee.inputmask._valueSet(ee.inputmask.unmaskedvalue(),!0),setTimeout(function(){B(ee,_())},0))},resetEvent:function(e){ee.inputmask.refreshValue=!0,setTimeout(function(){$.trigger("setvalue")},0)}};if(a!==n)switch(a.action){case"isComplete":return ee=a.el,H(_());case"unmaskedvalue":return ee!==n&&a.value===n||(J=a.value,J=(e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(Y,J,c)||J:J).split(""),F.call(this,n,!1,!1,J),e.isFunction(c.onBeforeWrite)&&c.onBeforeWrite.call(Y,n,_(),0,c)),N(ee);case"mask":!function(t){se.off(t);var i=function(t,i){var a=t.getAttribute("type"),r="INPUT"===t.tagName&&-1!==e.inArray(a,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!r)if("INPUT"===t.tagName){var o=l.createElement("input");o.setAttribute("type",a),r="text"===o.type,o=null}else r="partial";return!1!==r?function(t){function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==i.nullable?l.activeElement===this&&i.clearMaskOnLostFocus?(te?K(_().slice()).reverse():K(_().slice())).join(""):o.call(this):"":o.call(this)}function r(t){s.call(this,t),this.inputmask&&e(this).trigger("setvalue",[t])}var o,s;if(!t.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):n;c&&c.get&&c.set?(o=c.get,s=c.set,Object.defineProperty(t,"value",{get:a,set:r,configurable:!0})):"INPUT"!==t.tagName&&(o=function(){return this.textContent},s=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:r,configurable:!0}))}else l.__lookupGetter__&&t.__lookupGetter__("value")&&(o=t.__lookupGetter__("value"),s=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",r));t.inputmask.__valueGet=o,t.inputmask.__valueSet=s}t.inputmask._valueGet=function(e){return te&&!0!==e?o.call(this.el).split("").reverse().join(""):o.call(this.el)},t.inputmask._valueSet=function(e,t){s.call(this.el,null===e||e===n?"":!0!==t&&te?e.split("").reverse().join(""):e)},o===n&&(o=function(){return this.value},s=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===n||!0!==e.valHooks[t].inputmaskpatch)){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},r=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=a(e);return-1!==v(n,n,e.inputmask.maskset.validPositions)||!0!==i.nullable?t:""}return a(e)},set:function(t,n){var i,a=e(t);return i=r(t,n),t.inputmask&&a.trigger("setvalue",[n]),i},inputmaskpatch:!0}}}(t.type),function(t){se.on(t,"mouseenter",function(t){var n=e(this);this.inputmask._valueGet()!==_().join("")&&n.trigger("setvalue")})}(t))}}(t):t.inputmask=n,r}(t,c);if(!1!==i&&(ee=t,$=e(ee),Z=ee.placeholder,-1===(z=ee!==n?ee.maxLength:n)&&(z=n),!0===c.colorMask&&Q(ee),f&&("inputMode"in ee&&(ee.inputmode=c.inputmode,ee.setAttribute("inputmode",c.inputmode)),!0===c.disablePredictiveText&&("autocorrect"in ee?ee.autocorrect=!1:(!0!==c.colorMask&&Q(ee),ee.type="password"))),!0===i&&(ee.setAttribute("im-insert",c.insertMode),se.on(ee,"submit",le.submitEvent),se.on(ee,"reset",le.resetEvent),se.on(ee,"blur",le.blurEvent),se.on(ee,"focus",le.focusEvent),!0!==c.colorMask&&(se.on(ee,"click",le.clickEvent),se.on(ee,"mouseleave",le.mouseleaveEvent),se.on(ee,"mouseenter",le.mouseenterEvent)),se.on(ee,"paste",le.pasteEvent),se.on(ee,"cut",le.cutEvent),se.on(ee,"complete",c.oncomplete),se.on(ee,"incomplete",c.onincomplete),se.on(ee,"cleared",c.oncleared),f||!0===c.inputEventOnly?ee.removeAttribute("maxLength"):(se.on(ee,"keydown",le.keydownEvent),se.on(ee,"keypress",le.keypressEvent)),se.on(ee,"input",le.inputFallBackEvent),se.on(ee,"beforeinput",le.beforeInputEvent)),se.on(ee,"setvalue",le.setValueEvent),W=x().join(""),""!==ee.inputmask._valueGet(!0)||!1===c.clearMaskOnLostFocus||l.activeElement===ee)){var a=e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(Y,ee.inputmask._valueGet(!0),c)||ee.inputmask._valueGet(!0):ee.inputmask._valueGet(!0);""!==a&&F(ee,!0,!1,a.split(""));var r=_().slice();W=r.join(""),!1===H(r)&&c.clearIncomplete&&d(),c.clearMaskOnLostFocus&&l.activeElement!==ee&&(-1===v()?r=[]:K(r)),(!1===c.clearMaskOnLostFocus||c.showMaskOnFocus&&l.activeElement===ee||""!==ee.inputmask._valueGet(!0))&&B(ee,r),l.activeElement===ee&&R(ee,G(v()))}}(ee);break;case"format":return J=(e.isFunction(c.onBeforeMask)?c.onBeforeMask.call(Y,a.value,c)||a.value:a.value).split(""),F.call(this,n,!0,!1,J),a.metadata?{value:te?_().slice().reverse().join(""):_().join(""),metadata:s.call(this,{action:"getmetadata"},r,c)}:te?_().slice().reverse().join(""):_().join("");case"isValid":a.value?(J=a.value.split(""),F.call(this,n,!0,!0,J)):a.value=_().join("");for(var ce=_(),ue=V(),fe=ce.length-1;fe>ue&&!D(fe);fe--);return ce.splice(ue,fe+1-ue),H(ce)&&a.value===_().join("");case"getemptymask":return x().join("");case"remove":if(ee&&ee.inputmask){e.data(ee,"_inputmask_opts",null),$=e(ee),ee.inputmask._valueSet(c.autoUnmask?N(ee):ee.inputmask._valueGet(!0)),se.off(ee),ee.inputmask.colorMask&&((X=ee.inputmask.colorMask).removeChild(ee),X.parentNode.insertBefore(ee,X),X.parentNode.removeChild(X));Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ee),"value")&&ee.inputmask.__valueGet&&Object.defineProperty(ee,"value",{get:ee.inputmask.__valueGet,set:ee.inputmask.__valueSet,configurable:!0}):l.__lookupGetter__&&ee.__lookupGetter__("value")&&ee.inputmask.__valueGet&&(ee.__defineGetter__("value",ee.inputmask.__valueGet),ee.__defineSetter__("value",ee.inputmask.__valueSet)),ee.inputmask=n}return ee;case"getmetadata":if(e.isArray(r.metadata)){var pe=oe(!0,0,!1).join("");return e.each(r.metadata,function(e,t){if(t.mask===pe)return pe=t,!1}),pe}return r.metadata}}var l=t.document,c=navigator.userAgent,u=c.indexOf("MSIE ")>0||c.indexOf("Trident/")>0,f=o("touchstart"),p=/iemobile/i.test(c),h=/iphone/i.test(c)&&!p;return i.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:n,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(o){var c=this;return"string"==typeof o&&(o=l.getElementById(o)||l.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,function(o,l){var u=e.extend(!0,{},c.opts);if(function(i,r,o,s){if(!0===r.importDataAttributes){var l,c,u,f,p=i.getAttribute(s),h=function(e,a){null!==(a=a!==n?a:i.getAttribute(s+"-"+e))&&("string"==typeof a&&(0===e.indexOf("on")?a=t[a]:"false"===a?a=!1:"true"===a&&(a=!0)),o[e]=a)};if(p&&""!==p&&(p=p.replace(/'/g,'"'),c=JSON.parse("{"+p+"}")),c){u=n;for(f in c)if("alias"===f.toLowerCase()){u=c[f];break}}h("alias",u),o.alias&&a(o.alias,o,r);for(l in r){if(c){u=n;for(f in c)if(f.toLowerCase()===l.toLowerCase()){u=c[f];break}}h(l,u)}}return e.extend(!0,r,o),("rtl"===i.dir||r.rightAlign)&&(i.style.textAlign="right"),("rtl"===i.dir||r.numericInput)&&(i.dir="ltr",i.removeAttribute("dir"),r.isRTL=!0),Object.keys(o).length}(l,u,e.extend(!0,{},c.userOptions),c.dataAttribute)){var f=r(u,c.noMasksCache);f!==n&&(l.inputmask!==n&&(l.inputmask.opts.autoUnmask=!0,l.inputmask.remove()),l.inputmask=new i(n,n,!0),l.inputmask.opts=u,l.inputmask.noMasksCache=c.noMasksCache,l.inputmask.userOptions=e.extend(!0,{},c.userOptions),l.inputmask.isRTL=u.isRTL||u.numericInput,l.inputmask.el=l,l.inputmask.maskset=f,e.data(l,"_inputmask_opts",u),s.call(l.inputmask,{action:"mask"}))}}),o&&o[0]?o[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"format",value:e,metadata:t})},setValue:function(t){this.el&&e(this.el).trigger("setvalue",[t])},analyseMask:function(t,a,r){function o(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function s(t,o,s){s=s!==n?s:t.matches.length;var l=t.matches[s-1];if(a)0===o.indexOf("[")||y&&/\\d|\\s|\\w]/i.test(o)||"."===o?t.matches.splice(s++,0,{fn:new RegExp(o,r.casing?"i":""),optionality:!1,newBlockMarker:l===n?"master":l.def!==o,casing:null,def:o,placeholder:n,nativeDef:o}):(y&&(o=o[o.length-1]),e.each(o.split(""),function(e,i){l=t.matches[s-1],t.matches.splice(s++,0,{fn:null,optionality:!1,newBlockMarker:l===n?"master":l.def!==i&&null!==l.fn,casing:null,def:r.staticDefinitionSymbol||i,placeholder:r.staticDefinitionSymbol!==n?i:n,nativeDef:(y?"'":"")+i})})),y=!1;else{var c=(r.definitions?r.definitions[o]:n)||i.prototype.definitions[o];c&&!y?t.matches.splice(s++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,r.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),optionality:!1,newBlockMarker:l===n?"master":l.def!==(c.definitionSymbol||o),casing:c.casing,def:c.definitionSymbol||o,placeholder:c.placeholder,nativeDef:o}):(t.matches.splice(s++,0,{fn:null,optionality:!1,newBlockMarker:l===n?"master":l.def!==o&&null!==l.fn,casing:null,def:r.staticDefinitionSymbol||o,placeholder:r.staticDefinitionSymbol!==n?o:n,nativeDef:(y?"'":"")+o}),y=!1)}}function l(t){t&&t.matches&&e.each(t.matches,function(e,i){var o=t.matches[e+1];(o===n||o.matches===n||!1===o.isQuantifier)&&i&&i.isGroup&&(i.isGroup=!1,a||(s(i,r.groupmarker[0],0),!0!==i.openGroup&&s(i,r.groupmarker[1]))),l(i)})}function c(){if(E.length>0){if(d=E[E.length-1],s(d,h),d.isAlternator){v=E.pop();for(var e=0;e<v.matches.length;e++)v.matches[e].isGroup&&(v.matches[e].isGroup=!1);E.length>0?(d=E[E.length-1]).matches.push(v):P.matches.push(v)}}else s(P,h)}function u(e){function t(e){return e===r.optionalmarker[0]?e=r.optionalmarker[1]:e===r.optionalmarker[1]?e=r.optionalmarker[0]:e===r.groupmarker[0]?e=r.groupmarker[1]:e===r.groupmarker[1]&&(e=r.groupmarker[0]),e}e.matches=e.matches.reverse();for(var i in e.matches)if(e.matches.hasOwnProperty(i)){var a=parseInt(i);if(e.matches[i].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var o=e.matches[i];e.matches.splice(i,1),e.matches.splice(a+1,0,o)}e.matches[i].matches!==n?e.matches[i]=u(e.matches[i]):e.matches[i]=t(e.matches[i])}return e}function f(e){var t=new o(!0);return t.openGroup=!1,t.matches=e,t}var p,h,m,d,v,k,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,b=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,y=!1,P=new o,E=[],C=[];for(a&&(r.optionalmarker[0]=n,r.optionalmarker[1]=n);p=a?b.exec(t):g.exec(t);){if(h=p[0],a)switch(h.charAt(0)){case"?":h="{0,1}";break;case"+":case"*":h="{"+h+"}"}if(y)c();else switch(h.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case r.escapeChar:y=!0,a&&c();break;case r.optionalmarker[1]:case r.groupmarker[1]:if(m=E.pop(),m.openGroup=!1,m!==n)if(E.length>0){if((d=E[E.length-1]).matches.push(m),d.isAlternator){v=E.pop();for(var x=0;x<v.matches.length;x++)v.matches[x].isGroup=!1,v.matches[x].alternatorGroup=!1;E.length>0?(d=E[E.length-1]).matches.push(v):P.matches.push(v)}}else P.matches.push(m);else c();break;case r.optionalmarker[0]:E.push(new o(!1,!0));break;case r.groupmarker[0]:E.push(new o(!0));break;case r.quantifiermarker[0]:var _=new o(!1,!1,!0),A=(h=h.replace(/[{}]/g,"")).split("|"),w=A[0].split(","),O=isNaN(w[0])?w[0]:parseInt(w[0]),j=1===w.length?O:isNaN(w[1])?w[1]:parseInt(w[1]);"*"!==O&&"+"!==O||(O="*"===j?0:1),_.quantifier={min:O,max:j,jit:A[1]};var S=E.length>0?E[E.length-1].matches:P.matches;if((p=S.pop()).isAlternator){S.push(p),S=p.matches;var M=new o(!0),D=S.pop();S.push(M),S=M.matches,p=D}p.isGroup||(p=f([p])),S.push(p),S.push(_);break;case r.alternatormarker:var G=function(e){var t=e.pop();return t.isQuantifier&&(t=f([e.pop(),t])),t};if(E.length>0){var T=(d=E[E.length-1]).matches[d.matches.length-1];k=d.openGroup&&(T.matches===n||!1===T.isGroup&&!1===T.isAlternator)?E.pop():G(d.matches)}else k=G(P.matches);if(k.isAlternator)E.push(k);else if(k.alternatorGroup?(v=E.pop(),k.alternatorGroup=!1):v=new o(!1,!1,!1,!0),v.matches.push(k),E.push(v),k.openGroup){k.openGroup=!1;var B=new o(!0);B.alternatorGroup=!0,E.push(B)}break;default:c()}}for(;E.length>0;)m=E.pop(),P.matches.push(m);return P.matches.length>0&&(l(P),C.push(P)),(r.numericInput||r.isRTL)&&u(C[0]),C},positionColorMask:function(e,t){e.style.left=t.offsetLeft+"px"}},i.extendDefaults=function(t){e.extend(!0,i.prototype.defaults,t)},i.extendDefinitions=function(t){e.extend(!0,i.prototype.definitions,t)},i.extendAliases=function(t){e.extend(!0,i.prototype.aliases,t)},i.format=function(e,t,n){return i(t).format(e,n)},i.unmask=function(e,t){return i(t).unmaskedvalue(e)},i.isValid=function(e,t){return i(t).isValid(e)},i.remove=function(t){"string"==typeof t&&(t=l.getElementById(t)||l.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},i.setValue=function(t,n){"string"==typeof t&&(t=l.getElementById(t)||l.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(t,i){i.inputmask?i.inputmask.setValue(n):e(i).trigger("setvalue",[n])})},i.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},i.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},i.dependencyLib=e,i});