!function(e){"function"==typeof define&&define.amd?define(["../global/window"],e):"object"==typeof exports?module.exports=e(require("../global/window")):window.dependencyLib=e(window)}(function(e){function t(e){return null!=e&&e===e.window}function n(e){return e instanceof Element}function i(t){return t instanceof i?t:this instanceof i?void(void 0!==t&&null!==t&&t!==e&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:o.querySelector(t),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new i(t)}var o=e.document;return i.prototype={on:function(e,t){if(n(this[0]))for(var i=this[0].eventRegistry,o=this[0],r=function(e,n){o.addEventListener?o.addEventListener(e,t,!1):o.attachEvent&&o.attachEvent("on"+e,t),i[e]=i[e]||{},i[e][n]=i[e][n]||[],i[e][n].push(t)},a=e.split(" "),l=0;l<a.length;l++){var s=a[l].split(".");r(s[0],s[1]||"global")}return this},off:function(e,t){if(n(this[0]))for(var i=this[0].eventRegistry,o=this[0],r=function(e,t,n){if(e in i==!0)if(o.removeEventListener?o.removeEventListener(e,n,!1):o.detachEvent&&o.detachEvent("on"+e,n),"global"===t)for(var r in i[e])i[e][r].splice(i[e][r].indexOf(n),1);else i[e][t].splice(i[e][t].indexOf(n),1)},a=function(e,n){var o,r,a=[];if(e.length>0)if(void 0===t)for(o=0,r=i[e][n].length;o<r;o++)a.push({ev:e,namespace:n&&n.length>0?n:"global",handler:i[e][n][o]});else a.push({ev:e,namespace:n&&n.length>0?n:"global",handler:t});else if(n.length>0)for(var l in i)for(var s in i[l])if(s===n)if(void 0===t)for(o=0,r=i[l][s].length;o<r;o++)a.push({ev:l,namespace:s,handler:i[l][s][o]});else a.push({ev:l,namespace:s,handler:t});return a},l=e.split(" "),s=0;s<l.length;s++)for(var f=l[s].split("."),c=a(f[0],f[1]),u=0,v=c.length;u<v;u++)r(c[u].ev,c[u].namespace,c[u].handler);return this},trigger:function(e){if(n(this[0]))for(var t=this[0].eventRegistry,r=this[0],a="string"==typeof e?e.split(" "):[e.type],l=0;l<a.length;l++){var s=a[l].split("."),f=s[0],c=s[1]||"global";if(void 0!==o&&"global"===c){var u,v,d={bubbles:!0,cancelable:!0,detail:arguments[1]};if(o.createEvent){try{u=new CustomEvent(f,d)}catch(e){(u=o.createEvent("CustomEvent")).initCustomEvent(f,d.bubbles,d.cancelable,d.detail)}e.type&&i.extend(u,e),r.dispatchEvent(u)}else(u=o.createEventObject()).eventType=f,u.detail=arguments[1],e.type&&i.extend(u,e),r.fireEvent("on"+u.eventType,u)}else if(void 0!==t[f])if(arguments[0]=arguments[0].type?arguments[0]:i.Event(arguments[0]),"global"===c)for(var p in t[f])for(v=0;v<t[f][p].length;v++)t[f][p][v].apply(r,arguments);else for(v=0;v<t[f][c].length;v++)t[f][c][v].apply(r,arguments)}return this}},i.isFunction=function(e){return"function"==typeof e},i.noop=function(){},i.isArray=Array.isArray,i.inArray=function(e,t,n){return null==t?-1:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}(t,e)},i.valHooks=void 0,i.isPlainObject=function(e){return"object"==typeof e&&!e.nodeType&&!t(e)&&!(e.constructor&&!Object.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))},i.extend=function(){var e,t,n,o,r,a,l=arguments[0]||{},s=1,f=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[s]||{},s++),"object"==typeof l||i.isFunction(l)||(l={}),s===f&&(l=this,s--);s<f;s++)if(null!=(e=arguments[s]))for(t in e)n=l[t],l!==(o=e[t])&&(c&&o&&(i.isPlainObject(o)||(r=i.isArray(o)))?(r?(r=!1,a=n&&i.isArray(n)?n:[]):a=n&&i.isPlainObject(n)?n:{},l[t]=i.extend(c,a,o)):void 0!==o&&(l[t]=o));return l},i.each=function(e,n){var i=0;if(function(e){var n="length"in e&&e.length,i=typeof e;return"function"!==i&&!t(e)&&(!(1!==e.nodeType||!n)||"array"===i||0===n||"number"==typeof n&&n>0&&n-1 in e)}(e))for(var o=e.length;i<o&&!1!==n.call(e[i],i,e[i]);i++);else for(i in e)if(!1===n.call(e[i],i,e[i]))break;return e},i.data=function(e,t,n){if(void 0===n)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=n},"function"==typeof e.CustomEvent?i.Event=e.CustomEvent:(i.Event=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=o.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=e.Event.prototype,i});